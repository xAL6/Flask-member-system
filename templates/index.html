{% extends "layout.html" %}
{% block title %}登入與註冊{% endblock %}
{% block content %}
<div id="login-form" class="form-container">
    <h2 class="form-title">登入</h2>
    <form action="/login" method="POST">
        <div class="form-group">
            <label for="login-username">帳號</label>
            <input type="text" class="form-control" id="login-username" name="username" placeholder="請輸入帳號" required>
        </div>
        <div class="form-group">
            <label for="login-password">密碼</label>
            <input type="password" class="form-control" id="login-password" name="password" placeholder="請輸入密碼" required>
        </div>
        <button type="submit" class="btn btn-primary btn-block">登入</button>
        <div class="switch-link">
            <p>還沒有帳號？ <a href="#" onclick="switchToRegister()">註冊</a></p>
        </div>
    </form>
</div>

<div id="register-form" class="form-container" style="display: none;">
    <h2 class="form-title">註冊</h2>
    <form id="register-form-element" onsubmit="handleRegister(event)">
        <div class="form-group">
            <label for="register-username">帳號</label>
            <input type="text" class="form-control" id="register-username" name="username" placeholder="請輸入帳號" required>
        </div>
        <div class="form-group">
            <label for="register-email">信箱</label>
            <input type="email" class="form-control" id="register-email" name="email" placeholder="請輸入信箱" required>
        </div>
        <div class="form-group">
            <label for="register-password">密碼</label>
            <input type="password" class="form-control" id="register-password" name="password" placeholder="請輸入密碼" required>
        </div>
        <div class="form-group">
            <label for="register-confirm-password">確認密碼</label>
            <input type="password" class="form-control" id="register-confirm-password" name="confirm_password" placeholder="請再次輸入密碼" required>
        </div>
        <button type="submit" class="btn btn-primary btn-block">註冊</button>
        <div class="switch-link">
            <p>已經有帳號？ <a href="#" onclick="switchToLogin()">登入</a></p>
        </div>
    </form>
</div>

<div id="success-message" class="form-container" style="display: none;">
    <h2 class="form-title">註冊成功</h2>
    <p class="success-message">註冊成功！請前往登入頁面進行登入。</p>
    <div class="switch-link">
        <p><a href="#" onclick="switchToLogin()">前往登入</a></p>
    </div>
</div>

<div id="error-message" class="form-container" style="display: none;">
    <h2 class="form-title">註冊失敗</h2>
    <p class="error-message" id="error-text"></p>
    <div class="switch-link">
        <p><a href="#" onclick="switchToRegister()">重試註冊</a></p>
    </div>
</div>
{% endblock %}
